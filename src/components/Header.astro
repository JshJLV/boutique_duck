---
import OpenMenu from "../assets/svg/OpenMenu.svg";
import CloseMenu from "../assets/svg/CloseMenu.svg";
import LogoCompleto from "../assets/images/Logo_completo-removebg.png";
import CartIcon from "../assets/svg/Cart.svg";
import SearchIcon from "../assets/svg/Search.svg"; // Asegúrate de tener un ícono para el botón de búsqueda
---

<script>
  const btnOpen = document.getElementById("btn-open");
  const btnClose = document.getElementById("btn-close");
  const btnSearch = document.getElementById("btn-search");
  const searchDropdown = document.getElementById("search-dropdown");

  // Función para alternar el menú de categorías
  btnOpen?.addEventListener("click", () => {
    const nav = document.getElementById("nav");
    nav?.classList.toggle("hidden");
  });

  btnClose?.addEventListener("click", () => {
    const nav = document.getElementById("nav");
    nav?.classList.toggle("hidden");
  });

  // Función para alternar el buscador
  btnSearch?.addEventListener("click", () => {
    searchDropdown?.classList.toggle("hidden");
  });
</script>

<header class="w-full bg-white border-b-2 border-[#A38F85] relative">
  <div class="flex justify-between items-center px-4 py-4 md:px-8">
    <!-- Menú hamburguesa (solo móvil) -->
    <button
      id="btn-open"
      class="flex items-center w-9 h-9 md:hidden cursor-pointer"
    >
      <img src={OpenMenu.src} alt="Icono de menú" />
    </button>

    <!-- Logo -->
    <a href="/" class="flex items-center">
      <img
        src={LogoCompleto.src}
        alt="Logo de la página"
        class="w-20 h-20 md:w-20 md:h-20"
      />
    </a>

    <!-- Botón de búsqueda (solo móvil) -->
    <button
      id="btn-search"
      class="flex items-center w-9 h-9 md:hidden cursor-pointer"
    >
      <img src={SearchIcon.src} alt="Buscar" />
    </button>

    <!-- Buscador (versión escritorio) -->
    <form action="/buscar" method="GET" class="hidden md:flex flex-1 mx-4">
      <input
        type="text"
        name="q"
        placeholder="Buscar productos..."
        class="w-full md:w- px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-[#A38F85]"
      />
      <button
        type="submit"
        class="px-4 py-2 bg-[#A38F85] text-white rounded-r-md hover:bg-[#8c7a6f]"
      >
        Buscar
      </button>
    </form>

    <!-- Botón de carrito -->
    <button class="flex items-center w-9 h-9 cursor-pointer">
      <img src={CartIcon.src} alt="Carrito de compras" />
    </button>
  </div>

  <!-- Dropdown de búsqueda (solo móvil) -->
  <div
    id="search-dropdown"
    class="hidden absolute top-full left-0 w-full bg-white shadow-md p-4 z-50"
  >
    <form action="/buscar" method="GET">
      <input
        type="text"
        name="q"
        placeholder="Buscar productos..."
        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-[#A38F85]"
      />
      <button
        type="submit"
        class="w-full mt-2 px-4 py-2 bg-[#A38F85] text-white rounded-md hover:bg-[#8c7a6f]"
      >
        Buscar
      </button>
    </form>
  </div>

  <!-- Menú de categorías -->
  <nav
    id="nav"
    class="hidden bg-white md:flex flex-col md:flex-row items-center md:justify-center gap-4 md:gap-8 md:bg-transparent px-4 md:px-0 md:static fixed top-0 left-0 w-full h-full z-50"
  >
    <button
      id="btn-close"
      class="flex m-4 text-black md:hidden py-5 px-2 cursor-pointer"
    >
      <img src={CloseMenu.src} alt="Cerrar menú" class="w-9 h-9" />
    </button>
    <ul
      class="flex flex-col md:pb-4 md:flex-row items-center gap-8 text-lg font-bold"
    >
      <li>
        <a class="hover:text-[#A38F85]" href="#vestidos">Vestidos</a>
      </li>
      <li>
        <a class="hover:text-[#A38F85]" href="#pantalones">Pantalones</a>
      </li>
      <li>
        <a class="hover:text-[#A38F85]" href="#faldas">Faldas</a>
      </li>
      <li>
        <a class="hover:text-[#A38F85]" href="#calzado">Calzado</a>
      </li>
      <li>
        <a class="hover:text-[#A38F85]" href="#calzado">Accesorios</a>
      </li>
    </ul>
  </nav>
</header>
